(this.webpackJsonpburger_app=this.webpackJsonpburger_app||[]).push([[0],Array(33).concat([function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},,,,function(e,t,n){e.exports=n(74)},,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o),i=(n(42),n(3)),s=n(4),l=n(6),u=n(5),d=n(13),p=n(12),m=n(7),h=(n(47),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1,error:null},e}return Object(s.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e.message,t),this.setState({error:e})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",{style:{color:"red",textAlign:"center",padding:"100px"}},"something went wrong!!!"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a.Component)),f=(n(48),n(33)),g=n.n(f),E=function(e){return r.a.createElement("div",{className:"Logo",style:{height:e.height}},r.a.createElement("img",{src:g.a,alt:"burgerlogo"}))},b=(n(49),function(e){return r.a.createElement("li",{className:"NavigationItem"},r.a.createElement(p.b,{to:e.link,exact:e.exact},e.children))}),v=(n(51),function(e){return r.a.createElement("ul",{className:"NavigationItems"},r.a.createElement(b,{link:"/",exact:!0},"Home"),e.isAuthenticate?r.a.createElement(b,{link:"/orders"},"Orders"):null,e.isAuthenticate?r.a.createElement(b,{link:"/logout"},"Logout"):r.a.createElement(b,{link:"/auth"},"Sign In"))}),y=(n(52),function(e){return r.a.createElement("div",{className:"Menubtn",onClick:e.clicked})}),O=(n(53),function(e){return r.a.createElement("header",{className:"Toolbar"},r.a.createElement(y,{clicked:e.CloseSideDrawerHandler}),r.a.createElement(E,{height:"70%"}),r.a.createElement("nav",{className:"onlyDesktop"},r.a.createElement(v,{isAuthenticate:e.isAuth})))}),k=function(e){return e.children},j=(n(54),function(e){return e.show?r.a.createElement("div",{className:"Backdrop",onClick:e.closeBackdrop}):null}),T=(n(55),function(e){var t=["Sidedrawer","close"];return e.show&&(t=["Sidedrawer","open"]),r.a.createElement(k,null,r.a.createElement(j,{show:e.show,closeBackdrop:e.close}),r.a.createElement("div",{className:t.join(" ")},r.a.createElement(E,{height:"9%"}),r.a.createElement(v,{isAuthenticate:e.isAuth})))}),I=(n(56),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={sideDrawer:!1},e.OpenSideDrawerHandler=function(){e.setState({sideDrawer:!0})},e.CloseSideDrawerHandler=function(){e.setState({sideDrawer:!1})},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{isAuth:this.props.isAuthenticate,CloseSideDrawerHandler:this.OpenSideDrawerHandler}),r.a.createElement(T,{isAuth:this.props.isAuthenticate,close:this.CloseSideDrawerHandler,show:this.state.sideDrawer}),r.a.createElement("main",{className:"content"},this.props.children))}}]),n}(r.a.Component)),N=Object(m.b)((function(e){return{isAuthenticate:null!==e.authRTR.token}}))(I),R=n(1),S=n(36),C=n(75),_=(n(57),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=null;switch(this.props.type){case"bread-bottom":e=r.a.createElement("div",{className:"BreadBottom"});break;case"bread-top":e=r.a.createElement("div",{className:"BreadTop"},r.a.createElement("div",{className:"Seeds1"}),r.a.createElement("div",{className:"Seeds2"}));break;case"meat":e=r.a.createElement("div",{className:"Meat"});break;case"cheese":e=r.a.createElement("div",{className:"Cheese"});break;case"salad":e=r.a.createElement("div",{className:"Salad"});break;case"bacon":e=r.a.createElement("div",{className:"Bacon"});break;default:e=null}return e}}]),n}(r.a.Component)),w=(n(58),function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(S.a)(Array(e.ingredients[t])).map((function(e){return r.a.createElement(_,{key:Object(C.a)(),type:t})}))})).reduce((function(e,t){return e.concat(t)}),[]);return t.length<=0&&(t=r.a.createElement("p",null,"Please choose burger ingredients")),r.a.createElement("div",{className:"burger-con"},r.a.createElement("div",{className:"burger"},r.a.createElement(_,{type:"bread-top"}),t,r.a.createElement(_,{type:"bread-bottom"})))}),x=(n(59),n(60),function(e){return r.a.createElement("div",{className:"BuildControl"},r.a.createElement("div",{className:"Label"},e.type.toUpperCase()),r.a.createElement("button",{className:"Less",onClick:e.remove,disabled:e.disable},"Less"),r.a.createElement("button",{className:"More",onClick:e.added},"More"))}),D=[{type:"salad"},{type:"bacon"},{type:"meat"},{type:"cheese"}],P=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.price!==this.props.price||e.openModal!==this.props.openModal||e.children!==this.props.children||e.purchasable!==this.props.purchasable||e.disable!==this.props.disable}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"BuildControls"},r.a.createElement("p",null,"Total price: ",r.a.createElement("strong",null,this.props.price.toFixed(2))),D.map((function(t){return r.a.createElement(x,{key:Object(C.a)(),type:t.type,added:function(){return e.props.addedIngredients(t.type)},remove:function(){return e.props.removeIngredients(t.type)},disable:e.props.disable[t.type]})})),r.a.createElement("button",{className:"OrderButton",disabled:!this.props.purchasable,onClick:this.props.checkout},!this.props.token&&this.props.purchasable?"Sign in to Order":"Order Now"))}}]),n}(r.a.Component),M=Object(m.b)((function(e){return{token:e.authRTR.token}}))(P),A=(n(61),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.openModal!==this.props.openModal||e.children!==this.props.children}},{key:"render",value:function(){var e=["Modal"];return this.props.openModal&&e.push("openModal"),r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{show:this.props.openModal,closeBackdrop:this.props.cancelPurchase}),r.a.createElement("div",{className:e.join(" ")},this.props.children))}}]),n}(r.a.Component)),H=(n(62),n(63),function(e){return r.a.createElement("button",{disabled:e.disabled,onClick:e.clicked,className:["Button",e.buttonType].join(" ")}," ",e.children," ")}),L=function(e){var t=Object.keys(e.ingredients).map((function(t){return r.a.createElement("li",{key:Object(C.a)()},r.a.createElement("strong",null,r.a.createElement("span",{style:{textTransform:"capitalize"}},t,": "),e.ingredients[t]))}));return r.a.createElement(k,null,r.a.createElement("div",{className:"OrderSummery"},r.a.createElement("p",{className:"OrderSummery__head"},"Here your order details"),r.a.createElement("ul",null,t),r.a.createElement("strong",null,r.a.createElement("p",null,"Total price: ",e.price.toFixed(2)))),r.a.createElement(H,{buttonType:"Button-success",clicked:e.continuePurchase},"Continue"),r.a.createElement(H,{buttonType:"Button-danger",clicked:e.cancelPurchase},"Cancel"))},F=(n(64),function(){return r.a.createElement("div",{className:"Loader"})}),U=n(19),V=n.n(U),B=n(29),G="https://appburger-3993e.firebaseio.com",q=function(){var e=Object(B.a)(V.a.mark((function e(t,n){var a,r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("".concat(G,"/order.json?auth=").concat(n),a);case 3:if(!(r=e.sent).ok){e.next=9;break}return e.next=7,r.json();case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(B.a)(V.a.mark((function e(){var t,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(G,"/ingredients.json"));case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e,t,n){return{type:"AUTH_SUCCESS",payload:{idToken:e,localId:t,expiresIn:n}}},z=function(){return localStorage.clear(),{type:"LOGOUT"}},$=function(e){return function(t){setTimeout((function(){t((localStorage.clear(),{type:"LOGIN_EXPIRES"}))}),1e3*e)}},W=function(e,t,n){return function(a){a({type:"AUTH_INIT"}),function(e,t){return new Promise((function(n,a){var r="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBXbeUMGQZa4eiIzPmOxsxSIDk147EsI-Y";t&&(r="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBXbeUMGQZa4eiIzPmOxsxSIDk147EsI-Y");var o=new XMLHttpRequest;o.addEventListener("readystatechange",(function(e){if(e.target.status>=200&&e.target.status<300&&4===e.target.readyState){var t=JSON.parse(e.target.responseText);n(t)}else 4===e.target.readyState&&a(e.target.response)})),o.open("POST",r),o.send(JSON.stringify(e))}))}({email:e,password:t,returnSecureToken:!0},n).then((function(e){var t=(new Date).getTime()+1e3*e.expiresIn;localStorage.setItem("authData",JSON.stringify({token:e.idToken,userId:e.localId,expireTime:t})),a(X(e.idToken,e.localId,e.expiresIn)),a($(e.expiresIn))})).catch((function(e){if(e){var t=JSON.parse(e);a((n=t.error.code,r=t.error.message,{type:"AUTH_FAILED",payload:{errorCode:n,errorMessage:r}}))}else a({type:"AUTH_UNEXPECTED_ERROR"});var n,r}))}},Q=function(e,t){return new Promise((function(n,a){var r="https://appburger-3993e.firebaseio.com/order.json"+"?auth=".concat(e,'&orderBy="userId"&equalTo="').concat(t,'"'),o=new XMLHttpRequest;o.addEventListener("readystatechange",(function(e){if(e.target.status>=200&&e.target.status<300&&4===e.target.readyState){var t=JSON.parse(e.target.responseText);n(t)}else 4===e.target.readyState&&a(e.target.response)})),o.open("GET",r),o.send()}))},K=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={totalPrice:2,isPurchasable:!1,isLoading:!1,errorOccurred:null},e.purchasing=function(e){return Object.keys(e).map((function(t){return e[t]})).reduce((function(e,t){return e+t}),0)>0},e.unlockCheckoutHandler=function(){e.props.token?e.setState({isPurchasable:!0}):e.props.history.push({pathname:"".concat(e.props.match.path,"auth")})},e.cancelPurchaseHandler=function(){e.setState({isPurchasable:!1,errorOccurred:!1})},e.continuePurchaseHandler=function(){e.props.history.push({pathname:"/checkout/contact"})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.initialIngredients()}},{key:"render",value:function(){var e=Object(R.a)({},this.props.ings);for(var t in e)e[t]=e[t]<=0;var n=r.a.createElement(F,null),a=null;return this.props.ings&&(n=r.a.createElement(k,null,r.a.createElement(w,{ingredients:this.props.ings}),r.a.createElement(M,{addedIngredients:this.props.addedIngredient,removeIngredients:this.props.removeIngredient,price:this.props.price,disable:e,purchasable:this.purchasing(this.props.ings),checkout:this.unlockCheckoutHandler,openModal:this.state.isPurchasable})),a=r.a.createElement(L,{ingredients:this.props.ings,price:this.props.price,cancelPurchase:this.cancelPurchaseHandler,continuePurchase:this.continuePurchaseHandler})),this.state.isLoading&&(a=r.a.createElement(F,null)),r.a.createElement(k,null,r.a.createElement(h,null,r.a.createElement(A,{openModal:this.state.isPurchasable,cancelPurchase:this.cancelPurchaseHandler},this.state.errorOccurred?r.a.createElement(h,null,r.a.createElement(L,null)):a),n))}}]),n}(r.a.Component),Y=Object(m.b)((function(e){return{ings:e.ingsRTR.ingredients,price:e.ingsRTR.totalPrice,error:e.ingsRTR.error,token:null!=e.authRTR.token}}),(function(e){return{initialIngredients:function(){return e((function(e){J().then((function(t){e({type:"SET_INGREDIENTS",payload:{ingredients:t}})})).catch((function(t){console.log(t),e({type:"FETCHING_INGREDIENTS_FAILED"})}))}))},addedIngredient:function(t){return e(function(e){return{type:"ADD_INGREDIENT",payload:{type:e}}}(t))},removeIngredient:function(t){return e(function(e){return{type:"REMOVE_INGREDIENT",payload:{type:e}}}(t))}}}))(K),Z=n(23),ee=(n(66),Object(m.b)((function(e){return{ingredients:e.ingsRTR.ingredients,totalPrice:e.ingsRTR.totalPrice}}))((function(e){var t=null;return e.ingredients&&(t=Object.keys(e.ingredients).map((function(t){return r.a.createElement("li",{key:Object(C.a)()},r.a.createElement("span",null,t,": "),r.a.createElement("span",null,"  ",e.ingredients[t]))}))),r.a.createElement("div",{className:"checkoutSummery"},r.a.createElement("span",{className:"checkoutSummery__one"},"1"),r.a.createElement("h2",{className:"checkoutSummery__head"},"Order overview"),r.a.createElement("div",{className:"checkoutSummery__information"},r.a.createElement("p",null,"Burger Ingredients"),r.a.createElement("ul",null,t),r.a.createElement("strong",null,"Total price: ",e.totalPrice.toFixed(2))))}))),te=(n(67),n(68),n(69),function(e){var t="",n=["Input"];switch(!e.isValid&&e.focusOut&&e.touched&&n.push("error"),e.inputType){case"input":t=r.a.createElement("input",Object.assign({className:"Input__item"},e.elementConfig,{value:e.value,onBlur:e.onBlur,onChange:e.changed}));break;case"textarea":t=r.a.createElement("textarea",Object.assign({className:"Input__item"},e.elementConfig,{value:e.value,onBlur:e.onBlur,onChange:e.changed}));break;case"select":t=r.a.createElement("select",{className:"Input__select",onChange:e.changed,name:e.name,id:e.name,value:e.value},e.elementConfig.option.map((function(e){return r.a.createElement("option",{className:"Input__select__option",key:e.value},e.displayValue)})));break;default:t=r.a.createElement("input",Object.assign({className:"Input__item"},e.elementConfig,{value:e.value}))}return r.a.createElement("div",{className:n.join(" ")},r.a.createElement("label",{className:"Input__label"},e.label),t,r.a.createElement("small",{className:"Input__errormassege"}," ",e.errorMessage," "))}),ne=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={orderForm:{userName:{label:"Name",errorMessage:"input a name",elementType:"input",elementConfig:{type:"text",placeholder:"hasib09"},value:"",validation:{required:!0,minLength:3,maxLength:18},isValid:!1,focusOut:!1,touched:!1},email:{label:"Email",errorMessage:"enter a valid em@il",elementType:"input",elementConfig:{type:"text",placeholder:"example@email.com"},value:"",validation:{required:!0,maxLength:35},isValid:!1,focusOut:!1,touched:!1},area:{label:"Area",elementType:"input",errorMessage:"are name must be required",elementConfig:{type:"text",placeholder:"Mirpur"},value:"",validation:{required:!0},isValid:!1,focusOut:!1,touched:!1},number:{label:"Number",elementType:"input",errorMessage:"Please enter a valid number",elementConfig:{type:"text",placeholder:"01*********"},value:"",validation:{required:!0,minLength:11,maxLength:11},isValid:!1,focusOut:!1,touched:!1},deliveryMethod:{label:"Delivery Method",elementType:"select",elementConfig:{option:[{value:"fast",displayValue:"fast"},{value:"slow",displayValue:"slow"}]},value:"fast",validation:{},isValid:!0}},formValid:!1},e.validationCheck=function(e,t,n){var a=!0;if(t.required&&a&&(a=""!==e.trim()),"email"===n&&a){a=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)}if("number"===n&&a){a=/^[0][1-9]\d{9}$|^[1-9]\d{9}$/.test(e)}return t.minLength&&a&&(a=t.minLength<=e.trim().length),t.maxLength&&a&&(a=t.maxLength>=e.trim().length),a},e.inputEventHandler=function(t,n){var a=Object(R.a)({},e.state.orderForm),r=Object(R.a)({},a[n]);r.value=t.target.value,r.touched=!0,r.isValid=e.validationCheck(r.value,r.validation,n),a[n]=r;var o=!0;for(var c in a)o=a[c].isValid&&o;e.setState({orderForm:a,formValid:o})},e.focusoutHandler=function(t){var n=Object(R.a)({},e.state.orderForm),a=Object(R.a)({},n[t]);a.focusOut=!0,n[t]=a,e.setState({orderForm:n})},e.submitHandler=function(t){t.preventDefault();var n={};for(var a in e.state.orderForm)n[a]=e.state.orderForm[a].value;var r={ingredients:e.props.ingredients,totalPrice:e.props.totalPrice,customer:n,userId:e.props.userId};q(r,e.props.token).then((function(t){var n=[];n.push(encodeURIComponent("name")+"="+encodeURIComponent(t.name)),e.props.history.replace({pathname:"".concat(e.props.match.path,"/success"),search:"?"+n})})).catch((function(e){console.log(e)}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.orderForm)t.push({id:n,config:this.state.orderForm[n]});return r.a.createElement("div",{className:"CheckoutForm"},r.a.createElement("form",{className:"form",action:""},r.a.createElement("h1",null,"Submit Form"),t.map((function(t){return r.a.createElement(te,{key:t.id,touched:t.config.touched,focusOut:t.config.focusOut,onBlur:function(){return e.focusoutHandler(t.id)},isValid:t.config.isValid,label:t.config.label,errorMessage:t.config.errorMessage,inputType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,name:t.id,changed:function(n){return e.inputEventHandler(n,t.id)}})})),r.a.createElement("button",{className:"form__submit",disabled:!this.state.formValid,onClick:this.submitHandler},"Submit")))}}]),n}(r.a.Component),ae=Object(m.b)((function(e){return{ingredients:e.ingsRTR.ingredients,totalPrice:e.ingsRTR.totalPrice,token:e.authRTR.token,userId:e.authRTR.userId}}))(Object(d.g)(ne)),re=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={ingredients:null,totalPrice:null},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Checkout"},r.a.createElement("p",{style:{textAlign:"center",fontSize:"50px"}},"Checkout"),r.a.createElement("div",{className:"Checkout__OrderSummery"},this.props.ing?r.a.createElement(ee,null):r.a.createElement(d.a,{to:"/"}),r.a.createElement(d.b,{path:this.props.match.path+"/contact",component:ae})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,a=new URLSearchParams(e.location.search),r={},o="",c=Object(Z.a)(a.entries());try{for(c.s();!(n=c.n()).done;){var i=n.value;"totalPrice"===i[0]?o=+i[1]:r[i[0]]=+i[1]}}catch(s){c.e(s)}finally{c.f()}return{ingredients:r,totalPrice:o}}}]),n}(r.a.Component),oe=Object(m.b)((function(e){return{ing:e.ingsRTR.ingredients}}))(re),ce=(n(70),n(71),function(e){var t=[];for(var n in e.ingredients)t.push({name:n,amount:e.ingredients[n]});return r.a.createElement("div",{className:"Order"},r.a.createElement("p",{style:{textTransform:"capitalize",marginLeft:"7px"}},"Ingredients: "),t.map((function(e){return r.a.createElement("span",{className:"Order__ingredients",key:e.name},e.name," = ",e.amount," ")})),r.a.createElement("p",{style:{fontSize:"18px"}},"Total Price: ",r.a.createElement("strong",null,e.price,"$")))}),ie=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchOrder(this.props.token,this.props.userId)}},{key:"render",value:function(){var e=r.a.createElement(F,null);return this.props.loading||(e=this.props.orders.map((function(e){return r.a.createElement(ce,{key:e.id,ingredients:e.ingredients,price:e.totalPrice})}))),r.a.createElement("div",{className:"Orders"},e)}}]),n}(r.a.Component),se=Object(m.b)((function(e){return{orders:e.ordersRTR.orders,loading:e.ordersRTR.loading,token:e.authRTR.token,userId:e.authRTR.userId}}),(function(e){return{fetchOrder:function(t,n){return e(function(e,t){return function(n){n({type:"REQUEST_FETCHING_ORDERS"}),Q(e,t).then((function(e){var t=[];for(var a in e)t.push(Object(R.a)({},e[a],{id:a}));n({type:"FETCHING_ORDERS_SUCCESS",payload:{data:t}})})).catch((function(e){if(e){var t=JSON.parse(e);n({type:"FETCHING_ORDERS_FAILED",payload:{errorMessage:t.error}})}else n({type:"FETCHING_ORDERS_NETWORK_ERROR"})}))}}(t,n))}}}))(ie),le=(n(72),function(e){var t,n=[],a=new URLSearchParams(e.location.search),o=Object(Z.a)(a.entries());try{for(o.s();!(t=o.n()).done;){var c=t.value;n.push(c[1])}}catch(i){o.e(i)}finally{o.f()}return r.a.createElement("div",{className:"success"},r.a.createElement("div",{className:"success__box"},r.a.createElement("p",{className:"success__box-order"},"Order# ",n.join().slice(n.length-12,n.length-7)),r.a.createElement("p",null,"Thank you for your order"),r.a.createElement("p",null,"We will contact you soon to verify the order.")))}),ue=(n(73),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loginForm:{email:{label:"Email",errorMessage:"enter a valid email",elementType:"input",elementConfig:{type:"text",placeholder:"example@email.com"},value:"",validation:{required:!0,maxLength:35},isValid:!1,focusOut:!1,touched:!1},password:{label:"Password",errorMessage:"must be greater than 6",elementType:"input",elementConfig:{type:"password",placeholder:"password"},value:"",validation:{required:!0,minLength:6},isValid:!1,focusOut:!1,touched:!1}},formValid:!1,signUp:!0},e.validationCheck=function(e,t,n){var a=!0;if(t.required&&a&&(a=""!==e.trim()),"email"===n&&a){a=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)}if("number"===n&&a){a=/^[0][1-9]\d{9}$|^[1-9]\d{9}$/.test(e)}return t.minLength&&a&&(a=t.minLength<=e.trim().length),t.maxLength&&a&&(a=t.maxLength>=e.trim().length),a},e.inputEventHandler=function(t,n){var a=Object(R.a)({},e.state.loginForm),r=Object(R.a)({},a[n]);r.value=t.target.value,r.touched=!0,r.isValid=e.validationCheck(r.value,r.validation,n),a[n]=r;var o=!0;for(var c in a)o=a[c].isValid&&o;e.setState({loginForm:a,formValid:o})},e.focusoutHandler=function(t){var n=Object(R.a)({},e.state.loginForm),a=Object(R.a)({},n[t]);a.focusOut=!0,n[t]=a,e.setState({loginForm:n})},e.authSubmitHandler=function(t){t.preventDefault(),e.props.onAuth(e.state.loginForm.email.value,e.state.loginForm.password.value,e.state.signUp)},e.signUpHandler=function(t){t.preventDefault(),e.setState((function(e){return{signUp:!e.signUp}}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this,n=[];for(var a in this.state.loginForm)n.push({id:a,config:this.state.loginForm[a]});e=n.map((function(e){return r.a.createElement(te,{key:e.id,touched:e.config.touched,focusOut:e.config.focusOut,onBlur:function(){return t.focusoutHandler(e.id)},isValid:e.config.isValid,label:e.config.label,errorMessage:e.config.errorMessage,inputType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,name:e.id,changed:function(n){return t.inputEventHandler(n,e.id)}})}));var o=null;return this.props.isAuthenticated&&!this.props.haveIngredients&&(console.log("redirect to home"),o=r.a.createElement(d.a,{to:"/"})),this.props.isAuthenticated&&this.props.haveIngredients&&(console.log("redirect to checkout"),o=r.a.createElement(d.a,{to:"/checkout/contact"})),r.a.createElement(r.a.Fragment,null,o,r.a.createElement("div",{className:"Auth"},this.state.signUp?r.a.createElement("p",{style:{textAlign:"center"}},"Login Page"):r.a.createElement("p",{style:{textAlign:"center"}},"Sign Up Page"),r.a.createElement("form",{onSubmit:this.authSubmitHandler,className:"form"},e,r.a.createElement("small",{style:{display:"block",color:"#e74c3c",position:"absolute",bottom:"55%",left:"18%",visibility:"visible"}},this.props.errorMessage),r.a.createElement(H,{buttonType:"Button-success"},"Continue")),r.a.createElement("button",{onClick:this.signUpHandler,className:"toggle"},"Toggle")))}}]),n}(r.a.Component)),de=Object(m.b)((function(e){return{isAuthenticated:null!==e.authRTR.token,haveIngredients:e.ingsRTR.totalPrice>2,errorMessage:e.authRTR.errorMessage}}),(function(e){return{onAuth:function(t,n,a){return e(W(t,n,a))}}}))(ue),pe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onLogout(),this.props.removeOrdersFromLs()}},{key:"render",value:function(){return r.a.createElement(d.a,{to:"/"})}}]),n}(r.a.Component),me=Object(m.b)(null,(function(e){return{onLogout:function(){return e(z())},removeOrdersFromLs:function(){return e((function(e){e({type:"REMOVE_ORDERS_IN_LOGOUT"})}))}}}))(pe),he=function(){return r.a.createElement("div",{className:"pageNotFound"},r.a.createElement("p",{style:{textAlign:"center",color:"red",fontSize:"20px"}},"Sorry page not found!"))},fe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.checkingAuthStateOnReload()}},{key:"render",value:function(){var e=r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/auth",component:de}),r.a.createElement(d.b,{path:"/",exact:!0,component:Y}),r.a.createElement(d.b,{to:"/",component:he}));return this.props.isAuthenticated&&(console.log("[App.js] from protected routes"),e=r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/checkout/contact/success",exact:!0,component:le}),r.a.createElement(d.b,{path:"/checkout",component:oe}),r.a.createElement(d.b,{path:"/orders",component:se}),r.a.createElement(d.b,{path:"/auth",component:de}),r.a.createElement(d.b,{path:"/logout",component:me}),r.a.createElement(d.b,{path:"/",exact:!0,component:Y}),r.a.createElement(d.a,{to:"/"}))),r.a.createElement(p.a,{basename:"/appburger"},r.a.createElement(h,null,r.a.createElement("div",null,r.a.createElement(N,null,e))))}}]),n}(r.a.Component),ge=Object(m.b)((function(e){return{isAuthenticated:null!=e.authRTR.token}}),(function(e){return{checkingAuthStateOnReload:function(){return e((function(e){var t=JSON.parse(localStorage.getItem("authData"));t&&t.expireTime>(new Date).getTime()?(e(X(t.token,t.userId,t.expireTime)),e($((t.expireTime-(new Date).getTime())/1e3))):e(z())}))}}}))(fe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=n(14),be=n(35),ve=n(17),ye={ingredients:null,error:!1,totalPrice:2},Oe={salad:1,bacon:.5,meat:3,cheese:2},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INGREDIENTS":return Object(R.a)({},e,{ingredients:t.payload.ingredients,totalPrice:2,error:!1});case"FETCHING_INGREDIENTS_FAILED":return Object(R.a)({},e,{error:!0});case"ADD_INGREDIENT":return Object(R.a)({},e,{ingredients:Object(R.a)({},e.ingredients,Object(ve.a)({},t.payload.type,e.ingredients[t.payload.type]+1)),totalPrice:e.totalPrice+Oe[t.payload.type]});case"REMOVE_INGREDIENT":return Object(R.a)({},e,{ingredients:Object(R.a)({},e.ingredients,Object(ve.a)({},t.payload.type,e.ingredients[t.payload.type]-1)),totalPrice:e.totalPrice-Oe[t.payload.type]});default:return e}},je={token:null,userId:null,expiresIn:null,loading:!1,error:!1,errorCode:null,errorMessage:null,unexpectedError:!1},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_INIT":return Object(R.a)({},e,{loading:!0});case"AUTH_SUCCESS":return Object(R.a)({},e,{token:t.payload.idToken,userId:t.payload.localId,expiresIn:t.payload.expiresIn,error:!1,loading:!1,unexpectedError:!1});case"AUTH_FAILED":return Object(R.a)({},e,{error:!0,loading:!1,errorCode:t.payload.errorCode,errorMessage:t.payload.errorMessage});case"LOGIN_EXPIRES":return Object(R.a)({},e,{token:null,userId:null,expiresIn:null,error:!1,errorMessage:null});case"LOGOUT":return Object(R.a)({},e,{error:!1,errorMessage:null,token:null,userId:null,expiresIn:null});case"AUTH_UNEXPECTED_ERROR":return Object(R.a)({},e,{unexpectedError:!0,errorMessage:"Please turn on Internet to continue."});default:return e}},Ie={orders:[],loading:!1,error:!1,errorMessage:null,unexpectedError:!1},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_FETCHING_ORDERS":return Object(R.a)({},e,{loading:!0});case"FETCHING_ORDERS_SUCCESS":return Object(R.a)({},e,{orders:t.payload.data,loading:!1,error:!1,unexpectedError:!1});case"FETCHING_ORDERS_FAILED":return Object(R.a)({},e,{orders:[],errorMessage:t.payload.errorMessage,error:!0,loading:!1});case"REMOVE_ORDERS_IN_LOGOUT":return Object(R.a)({},e,{orders:[]});case"FETCHING_ORDERS_NETWORK_ERROR":return Object(R.a)({},e,{networkError:!0,loading:!1});default:return e}},Re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.d,Se=Object(Ee.c)({ingsRTR:ke,authRTR:Te,ordersRTR:Ne}),Ce=Object(Ee.e)(Se,Re(Object(Ee.a)((function(e){return function(e){return function(t){return e(t)}}}),be.a)));c.a.render(r.a.createElement(m.a,{store:Ce},r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[37,1,2]]]);
//# sourceMappingURL=main.e94c807b.chunk.js.map