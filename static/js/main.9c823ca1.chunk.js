(this.webpackJsonpburger_app=this.webpackJsonpburger_app||[]).push([[0],[,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"l",(function(){return r})),n.d(t,"o",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"h",(function(){return b}));var a="ADD_INGREDIENT",r="REMOVE_INGREDIENT",o="SET_INGREDIENTS",c="FETCHING_INGREDIENTS_FAILED",i="AUTH_INIT",l="AUTH_SUCCESS",s="AUTH_FAILED",u="AUTH_UNEXPECTED_ERROR",d="LOGIN_EXPIRES",p="LOGOUT",m="REQUEST_FETCHING_ORDERS",h="FETCHING_ORDERS_SUCCESS",f="FETCHING_ORDERS_FAILED",g="REMOVE_ORDERS_IN_LOGOUT",b="FETCHING_ORDERS_NETWORK_ERROR"},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return g}));var a=n(1),r=n(25),o=function(e){return{type:a.a,payload:{type:e}}},c=function(e){return{type:a.l,payload:{type:e}}},i=function(){return function(e){Object(r.a)().then((function(t){var n;e((n=t,{type:a.o,payload:{ingredients:n}}))})).catch((function(t){console.log(t),e({type:a.f})}))}},l=function(e,t,n){return{type:a.d,payload:{idToken:e,localId:t,expiresIn:n}}},s=function(){return localStorage.clear(),{type:a.k}},u=function(e){return function(t){setTimeout((function(){t((localStorage.clear(),{type:a.j}))}),1e3*e)}},d=function(e,t,n){return function(r){r({type:a.c}),function(e,t){return new Promise((function(n,a){var r="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBXbeUMGQZa4eiIzPmOxsxSIDk147EsI-Y";t&&(r="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBXbeUMGQZa4eiIzPmOxsxSIDk147EsI-Y");var o=new XMLHttpRequest;o.addEventListener("readystatechange",(function(e){if(e.target.status>=200&&e.target.status<300&&4===e.target.readyState){var t=JSON.parse(e.target.responseText);n(t)}else 4===e.target.readyState&&a(e.target.response)})),o.open("POST",r),o.send(JSON.stringify(e))}))}({email:e,password:t,returnSecureToken:!0},n).then((function(e){var t=(new Date).getTime()+1e3*e.expiresIn;localStorage.setItem("authData",JSON.stringify({token:e.idToken,userId:e.localId,expireTime:t})),r(l(e.idToken,e.localId,e.expiresIn)),r(u(e.expiresIn))})).catch((function(e){if(e){var t=JSON.parse(e);r((n=t.error.code,o=t.error.message,{type:a.b,payload:{errorCode:n,errorMessage:o}}))}else r({type:a.e});var n,o}))}},p=function(){return function(e){var t=JSON.parse(localStorage.getItem("authData"));t&&t.expireTime>(new Date).getTime()?(e(l(t.token,t.userId,t.expireTime)),e(u((t.expireTime-(new Date).getTime())/1e3))):e(s())}},m=n(2),h=function(e,t){return new Promise((function(n,a){var r="https://appburger-3993e.firebaseio.com/order.json"+"?auth=".concat(e,'&orderBy="userId"&equalTo="').concat(t,'"'),o=new XMLHttpRequest;o.addEventListener("readystatechange",(function(e){if(e.target.status>=200&&e.target.status<300&&4===e.target.readyState){var t=JSON.parse(e.target.responseText);n(t)}else 4===e.target.readyState&&a(e.target.response)})),o.open("GET",r),o.send()}))},f=function(e,t){return function(n){n({type:a.n}),h(e,t).then((function(e){var t,r=[];for(var o in e)r.push(Object(m.a)({},e[o],{id:o}));n((t=r,{type:a.i,payload:{data:t}}))})).catch((function(e){if(e){var t=JSON.parse(e);n((r=t.error,{type:a.g,payload:{errorMessage:r}}))}else n({type:a.h});var r}))}},g=function(){return function(e){e({type:a.m})}}},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a=n(21),r=n.n(a),o=n(33),c="https://appburger-3993e.firebaseio.com",i=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("".concat(c,"/order.json?auth=").concat(n),a);case 3:if(!(o=e.sent).ok){e.next=9;break}return e.next=7,o.json();case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"/ingredients.json"));case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},,,,function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(68);t.a=function(){return r.a.createElement("div",{className:"Loader"})}},,,,,,,,function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},,,,function(e,t,n){e.exports=n(76)},,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),i=(n(46),n(4)),l=n(5),s=n(7),u=n(6),d=n(15),p=n(14),m=n(8),h=(n(51),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1,error:null},e}return Object(l.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e.message,t),this.setState({error:e})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",{style:{color:"red",textAlign:"center",padding:"100px"}},"something went wrong!!!"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a.Component)),f=(n(52),n(37)),g=n.n(f),b=function(e){return r.a.createElement("div",{className:"Logo",style:{height:e.height}},r.a.createElement("img",{src:g.a,alt:"burgerlogo"}))},v=(n(53),function(e){return r.a.createElement("li",{className:"NavigationItem"},r.a.createElement(p.b,{to:e.link,exact:e.exact},e.children))}),E=(n(55),function(e){return r.a.createElement("ul",{className:"NavigationItems"},r.a.createElement(v,{link:"/",exact:!0},"Home"),e.isAuthenticate?r.a.createElement(v,{link:"/orders"},"Orders"):null,e.isAuthenticate?r.a.createElement(v,{link:"/logout"},"Logout"):r.a.createElement(v,{link:"/auth"},"Sign In"))}),y=(n(56),function(e){return r.a.createElement("div",{className:"Menubtn",onClick:e.clicked})}),O=(n(57),function(e){return r.a.createElement("header",{className:"Toolbar"},r.a.createElement(y,{clicked:e.CloseSideDrawerHandler}),r.a.createElement(b,{height:"70%"}),r.a.createElement("nav",{className:"onlyDesktop"},r.a.createElement(E,{isAuthenticate:e.isAuth})))}),k=function(e){return e.children},j=(n(58),function(e){return e.show?r.a.createElement("div",{className:"Backdrop",onClick:e.closeBackdrop}):null}),N=(n(59),function(e){var t=["Sidedrawer","close"];return e.show&&(t=["Sidedrawer","open"]),r.a.createElement(k,null,r.a.createElement(j,{show:e.show,closeBackdrop:e.close}),r.a.createElement("div",{className:t.join(" ")},r.a.createElement(b,{height:"9%"}),r.a.createElement(E,{isAuthenticate:e.isAuth})))}),S=(n(60),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={sideDrawer:!1},e.OpenSideDrawerHandler=function(){e.setState({sideDrawer:!0})},e.CloseSideDrawerHandler=function(){e.setState({sideDrawer:!1})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{isAuth:this.props.isAuthenticate,CloseSideDrawerHandler:this.OpenSideDrawerHandler}),r.a.createElement(N,{isAuth:this.props.isAuthenticate,close:this.CloseSideDrawerHandler,show:this.state.sideDrawer}),r.a.createElement("main",{className:"content"},this.props.children))}}]),n}(r.a.Component)),I=Object(m.b)((function(e){return{isAuthenticate:null!==e.authRTR.token}}))(S),T=n(2),C=n(40),w=n(77),R=(n(61),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=null;switch(this.props.type){case"bread-bottom":e=r.a.createElement("div",{className:"BreadBottom"});break;case"bread-top":e=r.a.createElement("div",{className:"BreadTop"},r.a.createElement("div",{className:"Seeds1"}),r.a.createElement("div",{className:"Seeds2"}));break;case"meat":e=r.a.createElement("div",{className:"Meat"});break;case"cheese":e=r.a.createElement("div",{className:"Cheese"});break;case"salad":e=r.a.createElement("div",{className:"Salad"});break;case"bacon":e=r.a.createElement("div",{className:"Bacon"});break;default:e=null}return e}}]),n}(r.a.Component)),x=(n(62),function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(C.a)(Array(e.ingredients[t])).map((function(e){return r.a.createElement(R,{key:Object(w.a)(),type:t})}))})).reduce((function(e,t){return e.concat(t)}),[]);return t.length<=0&&(t=r.a.createElement("p",null,"Please choose burger ingredients")),r.a.createElement("div",{className:"burger-con"},r.a.createElement("div",{className:"burger"},r.a.createElement(R,{type:"bread-top"}),t,r.a.createElement(R,{type:"bread-bottom"})))}),_=(n(63),n(64),function(e){return r.a.createElement("div",{className:"BuildControl"},r.a.createElement("div",{className:"Label"},e.type.toUpperCase()),r.a.createElement("button",{className:"Less",onClick:e.remove,disabled:e.disable},"Less"),r.a.createElement("button",{className:"More",onClick:e.added},"More"))}),M=[{type:"salad"},{type:"bacon"},{type:"meat"},{type:"cheese"}],P=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.price!==this.props.price||e.openModal!==this.props.openModal||e.children!==this.props.children||e.purchasable!==this.props.purchasable||e.disable!==this.props.disable}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"BuildControls"},r.a.createElement("p",null,"Total price: ",r.a.createElement("strong",null,this.props.price.toFixed(2))),M.map((function(t){return r.a.createElement(_,{key:Object(w.a)(),type:t.type,added:function(){return e.props.addedIngredients(t.type)},remove:function(){return e.props.removeIngredients(t.type)},disable:e.props.disable[t.type]})})),r.a.createElement("button",{className:"OrderButton",disabled:!this.props.purchasable,onClick:this.props.checkout},!this.props.token&&this.props.purchasable?"Sign in to Order":"Order Now"))}}]),n}(r.a.Component),A=Object(m.b)((function(e){return{token:e.authRTR.token}}))(P),D=(n(65),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.openModal!==this.props.openModal||e.children!==this.props.children}},{key:"render",value:function(){var e=["Modal"];return this.props.openModal&&e.push("openModal"),r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{show:this.props.openModal,closeBackdrop:this.props.cancelPurchase}),r.a.createElement("div",{className:e.join(" ")},this.props.children))}}]),n}(r.a.Component)),H=(n(66),n(67),function(e){return r.a.createElement("button",{disabled:e.disabled,onClick:e.clicked,className:["Button",e.buttonType].join(" ")}," ",e.children," ")}),L=function(e){var t=Object.keys(e.ingredients).map((function(t){return r.a.createElement("li",{key:Object(w.a)()},r.a.createElement("strong",null,r.a.createElement("span",{style:{textTransform:"capitalize"}},t,": "),e.ingredients[t]))}));return r.a.createElement(k,null,r.a.createElement("div",{className:"OrderSummery"},r.a.createElement("p",{className:"OrderSummery__head"},"Here your order details"),r.a.createElement("ul",null,t),r.a.createElement("strong",null,r.a.createElement("p",null,"Total price: ",e.price.toFixed(2)))),r.a.createElement(H,{buttonType:"Button-success",clicked:e.continuePurchase},"Continue"),r.a.createElement(H,{buttonType:"Button-danger",clicked:e.cancelPurchase},"Cancel"))},F=n(29),U=n(12),B=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={totalPrice:2,isPurchasable:!1,isLoading:!1,errorOccurred:null},e.purchasing=function(e){return Object.keys(e).map((function(t){return e[t]})).reduce((function(e,t){return e+t}),0)>0},e.unlockCheckoutHandler=function(){e.props.token?e.setState({isPurchasable:!0}):e.props.history.push({pathname:"".concat(e.props.match.path,"auth")})},e.cancelPurchaseHandler=function(){e.setState({isPurchasable:!1,errorOccurred:!1})},e.continuePurchaseHandler=function(){e.props.history.push({pathname:"/checkout/contact"})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initialIngredients()}},{key:"render",value:function(){var e=Object(T.a)({},this.props.ings);for(var t in e)e[t]=e[t]<=0;var n=r.a.createElement(F.a,null),a=null;return this.props.ings&&(n=r.a.createElement(k,null,r.a.createElement(x,{ingredients:this.props.ings}),r.a.createElement(A,{addedIngredients:this.props.addedIngredient,removeIngredients:this.props.removeIngredient,price:this.props.price,disable:e,purchasable:this.purchasing(this.props.ings),checkout:this.unlockCheckoutHandler,openModal:this.state.isPurchasable})),a=r.a.createElement(L,{ingredients:this.props.ings,price:this.props.price,cancelPurchase:this.cancelPurchaseHandler,continuePurchase:this.continuePurchaseHandler})),this.state.isLoading&&(a=r.a.createElement(F.a,null)),r.a.createElement(k,null,r.a.createElement(h,null,r.a.createElement(D,{openModal:this.state.isPurchasable,cancelPurchase:this.cancelPurchaseHandler},this.state.errorOccurred?r.a.createElement(h,null,r.a.createElement(L,null)):a),n))}}]),n}(r.a.Component),V=Object(m.b)((function(e){return{ings:e.ingsRTR.ingredients,price:e.ingsRTR.totalPrice,error:e.ingsRTR.error,token:null!=e.authRTR.token}}),(function(e){return{initialIngredients:function(){return e(U.e())},addedIngredient:function(t){return e(U.a(t))},removeIngredient:function(t){return e(U.g(t))}}}))(B),G=n(26),q=(n(70),Object(m.b)((function(e){return{ingredients:e.ingsRTR.ingredients,totalPrice:e.ingsRTR.totalPrice}}))((function(e){var t=null;return e.ingredients&&(t=Object.keys(e.ingredients).map((function(t){return r.a.createElement("li",{key:Object(w.a)()},r.a.createElement("span",null,t,": "),r.a.createElement("span",null,"  ",e.ingredients[t]))}))),r.a.createElement("div",{className:"checkoutSummery"},r.a.createElement("span",{className:"checkoutSummery__one"},"1"),r.a.createElement("h2",{className:"checkoutSummery__head"},"Order overview"),r.a.createElement("div",{className:"checkoutSummery__information"},r.a.createElement("p",null,"Burger Ingredients"),r.a.createElement("ul",null,t),r.a.createElement("strong",null,"Total price: ",e.totalPrice.toFixed(2))))}))),J=(n(71),n(72),n(25)),z=(n(73),function(e){var t="",n=["Input"];switch(!e.isValid&&e.focusOut&&e.touched&&n.push("error"),e.inputType){case"input":t=r.a.createElement("input",Object.assign({className:"Input__item"},e.elementConfig,{value:e.value,onBlur:e.onBlur,onChange:e.changed}));break;case"textarea":t=r.a.createElement("textarea",Object.assign({className:"Input__item"},e.elementConfig,{value:e.value,onBlur:e.onBlur,onChange:e.changed}));break;case"select":t=r.a.createElement("select",{className:"Input__select",onChange:e.changed,name:e.name,id:e.name,value:e.value},e.elementConfig.option.map((function(e){return r.a.createElement("option",{className:"Input__select__option",key:e.value},e.displayValue)})));break;default:t=r.a.createElement("input",Object.assign({className:"Input__item"},e.elementConfig,{value:e.value}))}return r.a.createElement("div",{className:n.join(" ")},r.a.createElement("label",{className:"Input__label"},e.label),t,r.a.createElement("small",{className:"Input__errormassege"}," ",e.errorMessage," "))}),$=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={orderForm:{userName:{label:"Name",errorMessage:"input a name",elementType:"input",elementConfig:{type:"text",placeholder:"hasib09"},value:"",validation:{required:!0,minLength:3,maxLength:18},isValid:!1,focusOut:!1,touched:!1},email:{label:"Email",errorMessage:"enter a valid em@il",elementType:"input",elementConfig:{type:"text",placeholder:"example@email.com"},value:"",validation:{required:!0,maxLength:35},isValid:!1,focusOut:!1,touched:!1},area:{label:"Area",elementType:"input",errorMessage:"are name must be required",elementConfig:{type:"text",placeholder:"Mirpur"},value:"",validation:{required:!0},isValid:!1,focusOut:!1,touched:!1},number:{label:"Number",elementType:"input",errorMessage:"Please enter a valid number",elementConfig:{type:"text",placeholder:"01*********"},value:"",validation:{required:!0,minLength:11,maxLength:11},isValid:!1,focusOut:!1,touched:!1},deliveryMethod:{label:"Delivery Method",elementType:"select",elementConfig:{option:[{value:"fast",displayValue:"fast"},{value:"slow",displayValue:"slow"}]},value:"fast",validation:{},isValid:!0}},formValid:!1},e.validationCheck=function(e,t,n){var a=!0;if(t.required&&a&&(a=""!==e.trim()),"email"===n&&a){a=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)}if("number"===n&&a){a=/^[0][1-9]\d{9}$|^[1-9]\d{9}$/.test(e)}return t.minLength&&a&&(a=t.minLength<=e.trim().length),t.maxLength&&a&&(a=t.maxLength>=e.trim().length),a},e.inputEventHandler=function(t,n){var a=Object(T.a)({},e.state.orderForm),r=Object(T.a)({},a[n]);r.value=t.target.value,r.touched=!0,r.isValid=e.validationCheck(r.value,r.validation,n),a[n]=r;var o=!0;for(var c in a)o=a[c].isValid&&o;e.setState({orderForm:a,formValid:o})},e.focusoutHandler=function(t){var n=Object(T.a)({},e.state.orderForm),a=Object(T.a)({},n[t]);a.focusOut=!0,n[t]=a,e.setState({orderForm:n})},e.submitHandler=function(t){t.preventDefault();var n={};for(var a in e.state.orderForm)n[a]=e.state.orderForm[a].value;var r={ingredients:e.props.ingredients,totalPrice:e.props.totalPrice,customer:n,userId:e.props.userId};Object(J.b)(r,e.props.token).then((function(t){var n=[];n.push(encodeURIComponent("name")+"="+encodeURIComponent(t.name)),e.props.history.replace({pathname:"".concat(e.props.match.path,"/success"),search:"?"+n})})).catch((function(e){console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.orderForm)t.push({id:n,config:this.state.orderForm[n]});return r.a.createElement("div",{className:"CheckoutForm"},r.a.createElement("form",{className:"form",action:""},r.a.createElement("h1",null,"Submit Form"),t.map((function(t){return r.a.createElement(z,{key:t.id,touched:t.config.touched,focusOut:t.config.focusOut,onBlur:function(){return e.focusoutHandler(t.id)},isValid:t.config.isValid,label:t.config.label,errorMessage:t.config.errorMessage,inputType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,name:t.id,changed:function(n){return e.inputEventHandler(n,t.id)}})})),r.a.createElement("button",{className:"form__submit",disabled:!this.state.formValid,onClick:this.submitHandler},"Submit")))}}]),n}(r.a.Component),X=Object(m.b)((function(e){return{ingredients:e.ingsRTR.ingredients,totalPrice:e.ingsRTR.totalPrice,token:e.authRTR.token,userId:e.authRTR.userId}}))(Object(d.g)($)),W=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={ingredients:null,totalPrice:null},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Checkout"},r.a.createElement("p",{style:{textAlign:"center",fontSize:"50px"}},"Checkout"),r.a.createElement("div",{className:"Checkout__OrderSummery"},this.props.ing?r.a.createElement(q,null):r.a.createElement(d.a,{to:"/"}),r.a.createElement(d.b,{path:this.props.match.path+"/contact",component:X})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,a=new URLSearchParams(e.location.search),r={},o="",c=Object(G.a)(a.entries());try{for(c.s();!(n=c.n()).done;){var i=n.value;"totalPrice"===i[0]?o=+i[1]:r[i[0]]=+i[1]}}catch(l){c.e(l)}finally{c.f()}return{ingredients:r,totalPrice:o}}}]),n}(r.a.Component),Q=Object(m.b)((function(e){return{ing:e.ingsRTR.ingredients}}))(W),Y=(n(74),function(e){var t,n=[],a=new URLSearchParams(e.location.search),o=Object(G.a)(a.entries());try{for(o.s();!(t=o.n()).done;){var c=t.value;n.push(c[1])}}catch(i){o.e(i)}finally{o.f()}return r.a.createElement("div",{className:"success"},r.a.createElement("div",{className:"success__box"},r.a.createElement("p",{className:"success__box-order"},"Order# ",n.join().slice(n.length-12,n.length-7)),r.a.createElement("p",null,"Thank you for your order"),r.a.createElement("p",null,"We will contact you soon to verify the order.")))}),Z=(n(75),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loginForm:{email:{label:"Email",errorMessage:"enter a valid email",elementType:"input",elementConfig:{type:"text",placeholder:"example@email.com"},value:"",validation:{required:!0,maxLength:35},isValid:!1,focusOut:!1,touched:!1},password:{label:"Password",errorMessage:"must be greater than 6",elementType:"input",elementConfig:{type:"password",placeholder:"password"},value:"",validation:{required:!0,minLength:6},isValid:!1,focusOut:!1,touched:!1}},formValid:!1,signUp:!0},e.validationCheck=function(e,t,n){var a=!0;if(t.required&&a&&(a=""!==e.trim()),"email"===n&&a){a=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)}if("number"===n&&a){a=/^[0][1-9]\d{9}$|^[1-9]\d{9}$/.test(e)}return t.minLength&&a&&(a=t.minLength<=e.trim().length),t.maxLength&&a&&(a=t.maxLength>=e.trim().length),a},e.inputEventHandler=function(t,n){var a=Object(T.a)({},e.state.loginForm),r=Object(T.a)({},a[n]);r.value=t.target.value,r.touched=!0,r.isValid=e.validationCheck(r.value,r.validation,n),a[n]=r;var o=!0;for(var c in a)o=a[c].isValid&&o;e.setState({loginForm:a,formValid:o})},e.focusoutHandler=function(t){var n=Object(T.a)({},e.state.loginForm),a=Object(T.a)({},n[t]);a.focusOut=!0,n[t]=a,e.setState({loginForm:n})},e.authSubmitHandler=function(t){t.preventDefault(),e.props.onAuth(e.state.loginForm.email.value,e.state.loginForm.password.value,e.state.signUp)},e.signUpHandler=function(t){t.preventDefault(),e.setState((function(e){return{signUp:!e.signUp}}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e,t=this,n=[];for(var a in this.state.loginForm)n.push({id:a,config:this.state.loginForm[a]});e=n.map((function(e){return r.a.createElement(z,{key:e.id,touched:e.config.touched,focusOut:e.config.focusOut,onBlur:function(){return t.focusoutHandler(e.id)},isValid:e.config.isValid,label:e.config.label,errorMessage:e.config.errorMessage,inputType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,name:e.id,changed:function(n){return t.inputEventHandler(n,e.id)}})}));var o=null;return this.props.isAuthenticated&&!this.props.haveIngredients&&(o=r.a.createElement(d.a,{to:"/"})),this.props.isAuthenticated&&this.props.haveIngredients&&(o=r.a.createElement(d.a,{to:"/checkout/contact"})),r.a.createElement(r.a.Fragment,null,o,r.a.createElement("div",{className:"Auth"},this.state.signUp?r.a.createElement("p",{style:{textAlign:"center"}},"Login Page"):r.a.createElement("p",{style:{textAlign:"center"}},"Sign Up Page"),r.a.createElement("form",{onSubmit:this.authSubmitHandler,className:"form"},e,r.a.createElement("small",{style:{display:"block",color:"#e74c3c"}},this.props.errorMessage),r.a.createElement(H,{buttonType:"Button-success"},"Continue")),r.a.createElement("div",{className:"centering-btn"},this.state.signUp?r.a.createElement("span",null,"Don't have an account? "):r.a.createElement("span",null,"Already a user?"),r.a.createElement("button",{onClick:this.signUpHandler,className:"toggle"}," ",this.state.signUp?"sign up":"login"," "))))}}]),n}(r.a.Component)),K=Object(m.b)((function(e){return{isAuthenticated:null!==e.authRTR.token,haveIngredients:e.ingsRTR.totalPrice>2,errorMessage:e.authRTR.errorMessage}}),(function(e){return{onAuth:function(t,n,a){return e(U.b(t,n,a))}}}))(Z),ee=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onLogout(),this.props.removeOrdersFromLs()}},{key:"render",value:function(){return r.a.createElement(d.a,{to:"/"})}}]),n}(r.a.Component),te=Object(m.b)(null,(function(e){return{onLogout:function(){return e(U.f())},removeOrdersFromLs:function(){return e(U.h())}}}))(ee),ne=function(){return r.a.createElement("div",{className:"pageNotFound"},r.a.createElement("p",{style:{textAlign:"center",color:"red",fontSize:"20px"}},"Sorry page not found!"))},ae=function(e){return function(t){Object(s.a)(a,t);var n=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={component:null},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;e().then((function(e){t.setState({component:e.default})}))}},{key:"render",value:function(){var e=this.state.component;return this.state.component?r.a.createElement(e,this.props):null}}]),a}(r.a.Component)}((function(){return n.e(3).then(n.bind(null,80))})),re=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.checkingAuthStateOnReload()}},{key:"render",value:function(){var e=r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/auth",component:K}),r.a.createElement(d.b,{path:"/",exact:!0,component:V}),r.a.createElement(d.b,{to:"/",component:ne}));return this.props.isAuthenticated&&(e=r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/checkout/contact/success",exact:!0,component:Y}),r.a.createElement(d.b,{path:"/checkout",component:Q}),r.a.createElement(d.b,{path:"/orders",component:ae}),r.a.createElement(d.b,{path:"/auth",component:K}),r.a.createElement(d.b,{path:"/logout",component:te}),r.a.createElement(d.b,{path:"/",exact:!0,component:V}),r.a.createElement(d.a,{to:"/"}))),r.a.createElement(p.a,{basename:"/appburger"},r.a.createElement(h,null,r.a.createElement("div",null,r.a.createElement(I,null,e))))}}]),n}(r.a.Component),oe=Object(m.b)((function(e){return{isAuthenticated:null!=e.authRTR.token}}),(function(e){return{checkingAuthStateOnReload:function(){return e(U.c())}}}))(re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=n(16),ie=n(39),le=n(19),se=n(1),ue={ingredients:null,error:!1,totalPrice:2},de={salad:1,bacon:.5,meat:3,cheese:2},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.o:return Object(T.a)({},e,{ingredients:t.payload.ingredients,totalPrice:2,error:!1});case se.f:return Object(T.a)({},e,{error:!0});case se.a:return Object(T.a)({},e,{ingredients:Object(T.a)({},e.ingredients,Object(le.a)({},t.payload.type,e.ingredients[t.payload.type]+1)),totalPrice:e.totalPrice+de[t.payload.type]});case se.l:return Object(T.a)({},e,{ingredients:Object(T.a)({},e.ingredients,Object(le.a)({},t.payload.type,e.ingredients[t.payload.type]-1)),totalPrice:e.totalPrice-de[t.payload.type]});default:return e}},me={token:null,userId:null,expiresIn:null,loading:!1,error:!1,errorCode:null,errorMessage:null,unexpectedError:!1},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.c:return Object(T.a)({},e,{loading:!0});case se.d:return Object(T.a)({},e,{token:t.payload.idToken,userId:t.payload.localId,expiresIn:t.payload.expiresIn,error:!1,loading:!1,unexpectedError:!1});case se.b:return Object(T.a)({},e,{error:!0,loading:!1,errorCode:t.payload.errorCode,errorMessage:t.payload.errorMessage});case se.j:return Object(T.a)({},e,{token:null,userId:null,expiresIn:null,error:!1,errorMessage:null});case se.k:return Object(T.a)({},e,{error:!1,errorMessage:null,token:null,userId:null,expiresIn:null});case se.e:return Object(T.a)({},e,{unexpectedError:!0,errorMessage:"Please turn on Internet to continue."});default:return e}},fe={orders:[],loading:!1,error:!1,errorMessage:null,unexpectedError:!1},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.n:return Object(T.a)({},e,{loading:!0});case se.i:return Object(T.a)({},e,{orders:t.payload.data,loading:!1,error:!1,unexpectedError:!1});case se.g:return Object(T.a)({},e,{orders:[],errorMessage:t.payload.errorMessage,error:!0,loading:!1});case se.m:return Object(T.a)({},e,{orders:[]});case se.h:return Object(T.a)({},e,{networkError:!0,loading:!1});default:return e}},be=ce.d,ve=Object(ce.c)({ingsRTR:pe,authRTR:he,ordersRTR:ge}),Ee=Object(ce.e)(ve,be(Object(ce.a)((function(e){return function(e){return function(t){return e(t)}}}),ie.a)));c.a.render(r.a.createElement(m.a,{store:Ee},r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[41,1,2]]]);
//# sourceMappingURL=main.9c823ca1.chunk.js.map